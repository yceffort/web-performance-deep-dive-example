# JPEG 품질별 파일 크기 비교 테스트

2-5-3-1절 "품질 70-85% 기준과 시각적 차이"에서 다룬 내용을 실제로 측정한 데이터입니다.

## 사용 방법

### 1. 테스트 이미지 준비

큰 사진 이미지를 `test-image.jpg`로 추가하세요.

**권장 이미지:**

- 해상도: 1920×1080 이상
- 파일 크기: 1MB 이상
- 종류: 사진 (풍경, 인물 등)

**이미지 소스:**

- [Unsplash](https://unsplash.com/) - 고품질 무료 사진
- [Pexels](https://pexels.com/) - 무료 스톡 이미지
- 또는 프로젝트 내 다른 예제에서 복사:

  ```bash
  cp ../2-5-1-image-format-comparison/images/people.jpg test-image.jpg
  ```

### 2. 테스트 실행

```bash
npm install
npm test
```

## 출력 예시

```
🧪 JPEG 품질별 파일 크기 테스트

원본 이미지: 2.3 MB (2394 KB)
────────────────────────────────────────────────────────────

품질 100%: 7.5 MB (7639 KB)     (기준)
품질 85%: 2.7 MB (2794 KB)      (63.4% 감소)
품질 75%: 2.4 MB (2426 KB)      (68.2% 감소)
품질 60%: 2.0 MB (2069 KB)      (72.9% 감소)

────────────────────────────────────────────────────────────
💡 결론:

품질 100% → 85%: 63.4% 절감
품질 100% → 75%: 68.2% 절감
품질 100% → 60%: 72.9% 절감

✅ output/ 폴더에서 각 품질의 이미지를 비교해보세요.
   시각적 차이와 파일 크기를 함께 확인할 수 있습니다.
```

## 결과 확인

`output/` 폴더에 품질별로 생성된 이미지를 열어 비교하세요.

- `quality-100.jpg` - 최고 품질 (가장 큼)
- `quality-85.jpg` - 권장 품질 (주요 CDN 기본값)
- `quality-75.jpg` - 중간 품질 (Next.js 기본값)
- `quality-60.jpg` - 낮은 품질 (아티팩트 발생)

**비교 도구:**

- macOS: Preview에서 여러 이미지를 동시에 열고 전환하며 비교
- [Squoosh](https://squoosh.app/) - 슬라이더로 실시간 비교 가능

## 측정된 데이터의 의미

위 예시(3008×2000 사진)에서 품질 100%는 7.5MB, 품질 85%는 2.7MB로 **63.4% 절감**됩니다.
그러나 대부분의 사용자는 두 이미지의 시각적 차이를 구분하지 못합니다.

이것이 Cloudflare Images(기본값 85%), Cloudinary(권장 80%), Next.js(기본값 75%)가
모두 75-85% 범위를 사용하는 이유입니다.

## 주의사항

- 이미지 내용에 따라 최적 품질이 다를 수 있습니다
  - 복잡한 사진: 75-85% 권장
  - 단순한 그래픽: 60-70%도 충분할 수 있음
- 모바일 화면에서는 압축 아티팩트가 덜 보입니다
- 실제 사용 환경에서 직접 비교 테스트하는 것이 가장 정확합니다

## 데이터 활용

이 측정 결과는 `2-5.이미지는_화질이_아니라_전달_방식이_성능을_좌우한다.md`의
2-5-3-1절에서 실제 데이터로 활용됩니다.
