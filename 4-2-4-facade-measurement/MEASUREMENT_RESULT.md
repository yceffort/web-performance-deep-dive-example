# YouTube Facade 실제 측정 결과

## 측정 환경

- **날짜**: 2025년 1월 7일
- **브라우저**: Chrome (최신 버전)
- **네트워크**: 일반 네트워크 환경
- **캐시**: 비활성화 (Disable cache)
- **동영상**: YouTube 테스트 영상 (dQw4w9WgXcQ)

## 측정 결과

### YouTube iframe (실제 임베드)

#### 자바스크립트 리소스

| 파일명              | 크기 (전송) | 압축 | 설명               |
| ------------------- | ----------- | ---- | ------------------ |
| embed.js            | 9.7 KB      | br   | 임베드 초기화      |
| www-embed-player.js | 117 KB      | br   | 플레이어 코어      |
| base.js             | 684 KB      | br   | 메인 플레이어 로직 |
| remote.js           | 36.3 KB     | br   | 리모트 제어        |
| L5jXHyuSJ3\_\*.js   | 21.7 KB     | br   | 추가 기능          |
| cast_sender.js      | 2.1 KB      | gzip | Chromecast         |
| cast_sender.js      | 13.4 KB     | gzip | Chromecast 확장    |
| ad_status.js        | 0.1 KB      | -    | 광고 상태          |

**자바스크립트 총합: 884.3 KB**

기타 리소스 (HTML, 이미지, CSS 등)를 포함하면 약 **900 KB 이상**

### YouTube Facade (클릭 전)

| 리소스              | 크기    | 설명                           |
| ------------------- | ------- | ------------------------------ |
| youtube-facade.html | 5.5 KB  | HTML 문서 (인라인 CSS/JS 포함) |
| maxresdefault.jpg   | 65.4 KB | 썸네일 이미지                  |

**총 전송 크기: 70.9 KB**

## 결과 분석

### 초기 로드 비교

- **YouTube iframe**: ~884 KB (JS만), 총 ~900 KB
- **YouTube Facade**: ~71 KB
- **절약**: ~813 KB (JS만), 총 ~829 KB
- **비율**: Facade는 iframe 대비 **약 7.9% 크기** (약 12.5배 가벼움)

### 사용자 경험 영향

1. **재생하지 않는 경우 (일반적)**

   - iframe: 884 KB 불필요하게 다운로드
   - Facade: 71 KB만 다운로드
   - **829 KB 절약**

2. **재생하는 경우**
   - iframe: 즉시 재생 가능
   - Facade: 클릭 후 iframe 로드 (약 1-2초 추가 대기)
   - 하지만 초기 페이지 로드는 훨씬 빠름

### 성능 지표 영향

**LCP (Largest Contentful Paint):**

- iframe: 플레이어 로드 완료까지 대기
- Facade: 썸네일 이미지 로드로 즉시 완료

**TBT (Total Blocking Time):**

- iframe: 884 KB JS 파싱 및 실행으로 메인 스레드 차단
- Facade: 최소한의 JS만 실행

**FID/INP:**

- iframe: 플레이어 초기화 중 입력 차단 가능
- Facade: 입력 차단 없음

## 책에 반영할 내용

### 정확한 표현

```markdown
예를 들어 YouTube 임베드는 2025년 1월 측정 기준 약 884KB의 자바스크립트를 다운로드하지만, Facade를 사용하면 초기 로드는 71KB(HTML과 썸네일 이미지)로 시작할 수 있다. 사용자가 재생 버튼을 클릭하지 않으면 약 813KB를 절약할 수 있다.
```

### 일반화된 표현 (권장)

```markdown
YouTube 임베드는 페이지 로드 시 수백 KB의 자바스크립트를 다운로드한다. Facade 패턴을 사용하면 초기 로드는 썸네일 이미지만으로 시작하여, 사용자가 재생 버튼을 클릭할 때만 실제 플레이어를 로드한다. 측정 결과 약 12배 이상 가벼운 초기 로드를 달성할 수 있다.
```

## 주의사항

1. **측정값 변동성**

   - YouTube는 지속적으로 플레이어를 업데이트하므로 크기가 변할 수 있음
   - 네트워크 환경, 지역, 광고 유무에 따라 다를 수 있음
   - 썸네일 이미지 크기는 화질(maxresdefault, hqdefault 등)에 따라 다름

2. **책에 표기 시**

   - 구체적 수치보다는 범위나 비율 사용 권장
   - "약 ~KB", "수백 KB", "~배 이상" 등의 표현 사용
   - 측정 시점과 조건 명시 필요

3. **재측정 권장**
   - 책 출판 전 최신 데이터로 재측정
   - 여러 동영상으로 테스트하여 평균값 사용
