<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1. ì¼ë°˜ ìŠ¤í¬ë¦½íŠ¸ (Blocking)</title>
    <style>
      body {
        font-family: system-ui, sans-serif;
        max-width: 800px;
        margin: 40px auto;
        padding: 20px;
        background: #f5f5f5;
      }
      .card {
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
      }
      h1 {
        color: #e53e3e;
      }
      pre {
        background: #1a202c;
        color: #f7fafc;
        padding: 15px;
        border-radius: 4px;
        overflow-x: auto;
      }
      .warning {
        background: #fff5f5;
        border-left: 4px solid #e53e3e;
        padding: 15px;
        margin: 15px 0;
      }
      code {
        background: #edf2f7;
        padding: 2px 6px;
        border-radius: 3px;
        font-family: 'Monaco', 'Courier New', monospace;
      }
    </style>

    <script>
      console.log('â° [inline] <head> ì‹œì‘ -', new Date().toISOString())
    </script>

    <!-- âš ï¸ ì¼ë°˜ ìŠ¤í¬ë¦½íŠ¸ - HTML íŒŒì‹± ë¸”ë¡œí‚¹ -->
    <script src="./scripts/heavy-script.js"></script>

    <script>
      console.log('â° [inline] <head> ë (ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ í›„) -', new Date().toISOString())

      // DOMContentLoaded ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
      document.addEventListener('DOMContentLoaded', () => {
        console.log('ğŸ‰ [DOMContentLoaded] ë°œìƒ -', new Date().toISOString())

        const eventLog = document.getElementById('event-log')
        if (eventLog) {
          eventLog.textContent = 'âœ… DOMContentLoaded ë°œìƒ ì™„ë£Œ'
        }
      })
    </script>
  </head>
  <body>
    <div class="card">
      <h1>ğŸ”´ ì‹œë‚˜ë¦¬ì˜¤ 1: ì¼ë°˜ ìŠ¤í¬ë¦½íŠ¸ (Blocking)</h1>
      <p>ì¼ë°˜ <code>&lt;script src="..."&gt;</code> íƒœê·¸ëŠ” HTML íŒŒì‹±ì„ ì™„ì „íˆ ë©ˆì¶¥ë‹ˆë‹¤.</p>
    </div>

    <div class="card">
      <h2>ğŸ“‹ í…ŒìŠ¤íŠ¸ ë°©ë²•</h2>
      <ol>
        <li>í¬ë¡¬ ê°œë°œì ë„êµ¬ ì—´ê¸° (F12)</li>
        <li><strong>Performance íƒ­</strong> ì„ íƒ</li>
        <li>ì™¼ìª½ ìœ„ <strong>Record ë²„íŠ¼ (â—)</strong> í´ë¦­</li>
        <li><strong>í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨</strong> (Cmd+R ë˜ëŠ” Ctrl+R)</li>
        <li>ëª‡ ì´ˆ í›„ <strong>Stop ë²„íŠ¼ (â– )</strong> í´ë¦­</li>
      </ol>
    </div>

    <div class="card">
      <h2>ğŸ” í™•ì¸ ì‚¬í•­</h2>
      <div class="warning">
        <strong>âš ï¸ Parser Blocking í™•ì¸:</strong>
        <ul>
          <li>Main íŠ¸ë™ì—ì„œ "Parse HTML" ì‘ì—…ì´ ì¤‘ë‹¨ë˜ëŠ” ì§€ì  ì°¾ê¸°</li>
          <li>"Evaluate Script - heavy-script.js" êµ¬ê°„ í™•ì¸ (ì•½ 500ms)</li>
          <li>ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì¤‘ì—ëŠ” HTML íŒŒì‹±ì´ ë©ˆì¶¤</li>
          <li>ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì™„ë£Œ í›„ íŒŒì‹± ì¬ê°œ</li>
        </ul>
      </div>
    </div>

    <div class="card">
      <h2>ğŸ“Š ì˜ˆìƒ íƒ€ì„ë¼ì¸</h2>
      <pre>
Main Thread:
â”œâ”€ Parse HTML (0~100ms)
â”œâ”€ Evaluate Script - heavy-script.js (100~600ms) â† íŒŒì‹± ë¸”ë¡œí‚¹
â”œâ”€ Parse HTML (600~700ms)
â””â”€ DOMContentLoaded (700ms)
      </pre>
    </div>

    <div class="card">
      <h2>ğŸ“ ì½˜ì†” ì¶œë ¥</h2>
      <p>ì½˜ì†”ì—ì„œ ë‹¤ìŒ ìˆœì„œë¡œ ë¡œê·¸ê°€ ì¶œë ¥ë©ë‹ˆë‹¤:</p>
      <ol>
        <li><code>â° [inline] &lt;head&gt; ì‹œì‘</code></li>
        <li><code>ğŸ”´ [heavy-script.js] ì‹¤í–‰ ì‹œì‘</code></li>
        <li><code>ğŸ”´ [heavy-script.js] ì‹¤í–‰ ì™„ë£Œ - ~500ms</code></li>
        <li><code>â° [inline] &lt;head&gt; ë</code></li>
        <li><code>ğŸ‰ [DOMContentLoaded] ë°œìƒ</code></li>
      </ol>
    </div>

    <div class="card">
      <h2>ğŸ¯ í•µì‹¬ í¬ì¸íŠ¸</h2>
      <ul>
        <li>ì¼ë°˜ ìŠ¤í¬ë¦½íŠ¸ëŠ” ë‹¤ìš´ë¡œë“œ + íŒŒì‹± + ì‹¤í–‰ì´ ì™„ë£Œë  ë•Œê¹Œì§€ HTML íŒŒì‹±ì„ ë©ˆì¶¥ë‹ˆë‹¤</li>
        <li>
          <code>&lt;body&gt;</code>ì˜ ì´ë¯¸ì§€ë‚˜ ë‹¤ë¥¸ ë¦¬ì†ŒìŠ¤ ë°œê²¬ì´ ì§€ì—°ë©ë‹ˆë‹¤
        </li>
        <li>ì´ê²ƒì´ ë°”ë¡œ <code>defer</code>ë‚˜ <code>async</code>ê°€ í•„ìš”í•œ ì´ìœ ì…ë‹ˆë‹¤</li>
      </ul>
    </div>

    <div class="card">
      <h2>âœ… ì´ë²¤íŠ¸ ìƒíƒœ</h2>
      <p id="event-log">ëŒ€ê¸° ì¤‘...</p>
    </div>

    <script>
      console.log('â° [inline] <body> ë -', new Date().toISOString())
    </script>
  </body>
</html>
