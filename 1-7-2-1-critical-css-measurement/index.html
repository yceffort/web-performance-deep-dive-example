<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Critical CSS í¬ê¸° ì¸¡ì • - ëª¨ë°”ì¼ vs ë°ìŠ¤í¬í†±</title>

    <!-- ëª¨ë°”ì¼ìš© Critical CSS (3-4KB ëª©í‘œ) -->
    <style data-critical="mobile">
      /* ë¦¬ì…‹ */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        line-height: 1.6;
        color: #333;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 1rem;
      }

      .container {
        background: white;
        border-radius: 8px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      }

      /* í—¤ë” */
      header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 1.5rem 1rem;
        text-align: center;
      }

      h1 {
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
      }

      .subtitle {
        font-size: 0.9rem;
        opacity: 0.9;
      }

      /* ë©”ì¸ */
      main {
        padding: 1rem;
      }

      .device-badge {
        display: inline-block;
        padding: 0.5rem 1rem;
        background: #667eea;
        color: white;
        border-radius: 6px;
        font-weight: 600;
        margin-bottom: 1rem;
      }

      .section {
        margin-bottom: 1.5rem;
        padding: 1rem;
        background: #f8f9fa;
        border-radius: 6px;
        border-left: 4px solid #667eea;
      }

      .section h2 {
        color: #667eea;
        font-size: 1.2rem;
        margin-bottom: 0.75rem;
      }

      /* ë²„íŠ¼ */
      .button-group {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
        margin: 1.5rem 0;
      }

      button {
        padding: 0.875rem;
        font-size: 0.95rem;
        font-weight: 600;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .btn-primary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
      }

      .btn-secondary {
        background: #6c757d;
        color: white;
      }

      .btn-success {
        background: #28a745;
        color: white;
      }

      .btn-info {
        background: #17a2b8;
        color: white;
      }

      /* ê²°ê³¼ */
      #result {
        margin-top: 1.5rem;
        padding: 1rem;
        background: white;
        border-radius: 6px;
        border: 2px solid #e9ecef;
      }

      .metric {
        padding: 0.75rem;
        margin-bottom: 0.5rem;
        background: #f8f9fa;
        border-radius: 6px;
      }

      .metric-label {
        font-weight: 600;
        color: #333;
        display: block;
        margin-bottom: 0.25rem;
      }

      .metric-value {
        font-family: 'Courier New', monospace;
        color: #667eea;
        font-weight: 700;
        font-size: 1.1rem;
      }
    </style>

    <!-- ë°ìŠ¤í¬í†±ìš© Critical CSS (ì¶”ê°€ ìŠ¤íƒ€ì¼, í•©ì³ì„œ 7-8KB ëª©í‘œ) -->
    <style data-critical="desktop">
      /* ë°ìŠ¤í¬í†± ì „ìš© ìŠ¤íƒ€ì¼ */
      body {
        padding: 2rem;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        overflow: hidden;
      }

      header {
        padding: 2rem;
      }

      h1 {
        font-size: 2.5rem;
      }

      .subtitle {
        font-size: 1.1rem;
      }

      main {
        padding: 2rem;
      }

      .device-badge {
        padding: 0.75rem 1.5rem;
        font-size: 1.1rem;
      }

      .section {
        padding: 1.5rem;
        margin-bottom: 2rem;
      }

      .section h2 {
        font-size: 1.5rem;
        margin-bottom: 1rem;
      }

      .section p {
        margin-bottom: 0.5rem;
        color: #555;
        font-size: 1rem;
      }

      /* ë²„íŠ¼ ê·¸ë¦¬ë“œ */
      .button-group {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
        margin: 2rem 0;
      }

      button {
        padding: 1rem 2rem;
        font-size: 1rem;
        min-height: 60px;
      }

      button:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 16px rgba(102, 126, 234, 0.3);
      }

      /* ê²°ê³¼ í‘œì‹œ ê°œì„  */
      #result {
        padding: 1.5rem;
        margin-top: 2rem;
      }

      #result h3 {
        color: #667eea;
        margin-bottom: 1rem;
        font-size: 1.3rem;
      }

      .metric {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.75rem 1rem;
      }

      .metric-label {
        display: inline;
        margin-bottom: 0;
      }

      /* í”„ë¡œê·¸ë ˆìŠ¤ ë°” */
      .progress-container {
        margin: 1rem 0;
        background: #e9ecef;
        border-radius: 8px;
        height: 30px;
        overflow: hidden;
        position: relative;
      }

      .progress-bar {
        height: 100%;
        background: linear-gradient(
          90deg,
          #28a745 0%,
          #ffc107 70%,
          #dc3545 100%
        );
        transition: width 0.5s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 600;
        font-size: 0.9rem;
      }

      .threshold-marker {
        position: absolute;
        top: 0;
        left: 70%;
        width: 2px;
        height: 100%;
        background: #dc3545;
      }

      .threshold-label {
        position: absolute;
        top: -25px;
        left: 70%;
        transform: translateX(-50%);
        font-size: 0.75rem;
        color: #dc3545;
        font-weight: 600;
      }

      .status {
        padding: 0.5rem 1rem;
        border-radius: 6px;
        font-weight: 600;
        margin-top: 1rem;
        display: inline-block;
      }

      .status.optimal {
        background: #d4edda;
        color: #155724;
      }

      .status.warning {
        background: #fff3cd;
        color: #856404;
      }

      .status.danger {
        background: #f8d7da;
        color: #721c24;
      }

      /* ì½”ë“œ ë¸”ë¡ */
      pre {
        background: #2d2d2d;
        color: #f8f8f2;
        padding: 1rem;
        border-radius: 6px;
        overflow-x: auto;
        margin: 1rem 0;
        font-size: 0.9rem;
      }

      code {
        font-family: 'Courier New', Courier, monospace;
      }

      /* íˆì–´ë¡œ ì„¹ì…˜ */
      .hero {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 3rem 2rem;
        text-align: center;
        margin: -2rem -2rem 2rem -2rem;
        border-radius: 12px 12px 0 0;
      }

      .hero h2 {
        font-size: 2rem;
        margin-bottom: 1rem;
      }

      .hero p {
        font-size: 1.1rem;
        opacity: 0.95;
        max-width: 800px;
        margin: 0 auto;
      }

      /* ë¹„êµ í…Œì´ë¸” */
      .comparison-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 1rem;
      }

      .comparison-table th,
      .comparison-table td {
        padding: 0.75rem;
        text-align: left;
        border-bottom: 1px solid #dee2e6;
      }

      .comparison-table th {
        background: #f8f9fa;
        font-weight: 600;
        color: #667eea;
      }

      .comparison-table tr:hover {
        background: #f8f9fa;
      }
    </style>

    <script>
      // í˜„ì¬ ë””ë°”ì´ìŠ¤ ê°ì§€ ë° ì ì ˆí•œ Critical CSS í™œì„±í™”
      function detectDevice() {
        return window.innerWidth <= 768 ? 'mobile' : 'desktop'
      }

      // í˜ì´ì§€ ë¡œë“œ ì‹œ ë””ë°”ì´ìŠ¤ë³„ ìŠ¤íƒ€ì¼ í™œì„±í™”
      function initializeCriticalCSS() {
        const device = detectDevice()
        const mobileCSS = document.querySelector('style[data-critical="mobile"]')
        const desktopCSS = document.querySelector(
          'style[data-critical="desktop"]',
        )

        if (device === 'mobile') {
          mobileCSS.disabled = false
          if (desktopCSS) desktopCSS.disabled = true
        } else {
          mobileCSS.disabled = false
          if (desktopCSS) desktopCSS.disabled = false
        }

        console.log(`ğŸ¯ ê°ì§€ëœ ë””ë°”ì´ìŠ¤: ${device === 'mobile' ? 'ğŸ“± ëª¨ë°”ì¼' : 'ğŸ’» ë°ìŠ¤í¬í†±'}`)
        console.log(`í™œì„±í™”ëœ Critical CSS: ${device}`)
      }

      // ì´ˆê¸°í™”
      initializeCriticalCSS()
    </script>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>ğŸ“Š Critical CSS í¬ê¸° ì¸¡ì •</h1>
        <p class="subtitle">ëª¨ë°”ì¼ vs ë°ìŠ¤í¬í†± ë¹„êµ</p>
      </header>

      <main>
        <div id="device-info">
          <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
        </div>

        <div class="hero" style="display: none" id="desktop-hero">
          <h2>ëª¨ë°”ì¼ê³¼ ë°ìŠ¤í¬í†±, ë‹¤ë¥¸ ì „ëµ</h2>
          <p>
            ëª¨ë°”ì¼ì€ ë·°í¬íŠ¸ê°€ ì‘ì•„ 3-6KBë©´ ì¶©ë¶„í•˜ì§€ë§Œ, ë°ìŠ¤í¬í†±ì€ ë” ë§ì€
            ì½˜í…ì¸ ê°€ ë³´ì—¬ 10-12KBê°€ í•„ìš”í•©ë‹ˆë‹¤. ì´ ë°ëª¨ì—ì„œëŠ” ì‹¤ì œë¡œ ë‘ ê°€ì§€
            í¬ê¸°ë¥¼ ë¹„êµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
          </p>
        </div>

        <div class="section">
          <h2>ğŸ“‹ í˜„ì¬ ë””ë°”ì´ìŠ¤</h2>
          <p id="current-device-info">ë¡œë”© ì¤‘...</p>
        </div>

        <div class="button-group">
          <button class="btn-primary" onclick="measureCurrentDevice()">
            ğŸ“ í˜„ì¬ ë””ë°”ì´ìŠ¤ ì¸¡ì •
          </button>
          <button class="btn-info" onclick="compareAllDevices()">
            ğŸ“Š ëª¨ë°”ì¼ vs ë°ìŠ¤í¬í†± ë¹„êµ
          </button>
          <button class="btn-secondary" onclick="showCSSContent()">
            ğŸ‘ï¸ CSS ë‚´ìš© ë³´ê¸°
          </button>
          <button class="btn-success" onclick="copyToClipboard()">
            ğŸ“‹ ì¸¡ì • ì½”ë“œ ë³µì‚¬
          </button>
        </div>

        <div id="result"></div>

        <div class="section">
          <h2>ğŸ’¡ 14KB ì„ê³„ê°’</h2>
          <p>
            TCP ì´ˆê¸° í˜¼ì¡ ìœˆë„ìš°(IW) 10 íŒ¨í‚· Ã— 1460ë°”ì´íŠ¸ = 14,600ë°”ì´íŠ¸
            (â‰ˆ14.26KB)
          </p>
          <ul style="list-style: none; padding-left: 0; margin-top: 0.5rem">
            <li style="margin-bottom: 0.5rem">
              âœ… <strong>ìµœì  (0-14KB):</strong> ì²« RTTì—ì„œ ì „ì†¡ ê°€ëŠ¥
            </li>
            <li style="margin-bottom: 0.5rem">
              âš ï¸ <strong>ì£¼ì˜ (14-20KB):</strong> ì¶”ê°€ RTT ë°œìƒ
            </li>
            <li style="margin-bottom: 0.5rem">
              âŒ <strong>ìœ„í—˜ (20KB+):</strong> ì¦‰ì‹œ ìµœì í™” í•„ìš”
            </li>
          </ul>
        </div>

        <div class="section">
          <h2>ğŸ¯ ì‹¤ë¬´ ê°€ì´ë“œ</h2>
          <p><strong>ëª¨ë°”ì¼ ìš°ì„  ì ‘ê·¼:</strong></p>
          <ul style="padding-left: 1.5rem; margin-top: 0.5rem">
            <li>ëª¨ë°”ì¼ìš©: 3-6KB (Above-the-fold ìµœì†Œ)</li>
            <li>ë°ìŠ¤í¬í†±ìš©: 8-12KB (ë” ë§ì€ ì½˜í…ì¸ )</li>
            <li>í†µí•© ì ‘ê·¼: 5-8KB (ê³µí†µ ë¶€ë¶„ì§‘í•©)</li>
          </ul>
        </div>
      </main>
    </div>

    <script>
      // ë””ë°”ì´ìŠ¤ ì •ë³´ í‘œì‹œ
      function updateDeviceInfo() {
        const device = detectDevice()
        const deviceIcon = device === 'mobile' ? 'ğŸ“±' : 'ğŸ’»'
        const deviceName = device === 'mobile' ? 'ëª¨ë°”ì¼' : 'ë°ìŠ¤í¬í†±'
        const viewportWidth = window.innerWidth
        const viewportHeight = window.innerHeight

        document.getElementById('device-info').innerHTML = `
          <div class="device-badge">${deviceIcon} ${deviceName} ë””ë°”ì´ìŠ¤</div>
        `

        document.getElementById('current-device-info').innerHTML = `
          <strong>${deviceIcon} ${deviceName}</strong> - ë·°í¬íŠ¸: ${viewportWidth}Ã—${viewportHeight}px
        `

        // ë°ìŠ¤í¬í†±ì—ì„œë§Œ íˆì–´ë¡œ ì„¹ì…˜ í‘œì‹œ
        const hero = document.getElementById('desktop-hero')
        if (hero) {
          hero.style.display = device === 'desktop' ? 'block' : 'none'
        }
      }

      // íŠ¹ì • ë””ë°”ì´ìŠ¤ì˜ Critical CSS í¬ê¸° ì¸¡ì •
      function measureDevice(deviceType) {
        const criticalStyles = document.querySelector(
          `style[data-critical="${deviceType}"]`,
        )

        if (!criticalStyles) {
          return null
        }

        const cssContent = criticalStyles.textContent
        const sizeInBytes = new Blob([cssContent]).size
        const sizeInKB = (sizeInBytes / 1024).toFixed(2)
        const threshold = 14336
        const percentage = ((sizeInBytes / threshold) * 100).toFixed(1)

        let status = 'optimal'
        let statusText = 'âœ… ìµœì '
        let recommendation = 'í˜„ì¬ Critical CSS í¬ê¸°ê°€ ìµœì ì…ë‹ˆë‹¤!'

        if (sizeInBytes > threshold) {
          const excess = ((sizeInBytes - threshold) / 1024).toFixed(2)
          status = 'danger'
          statusText = 'âŒ ì„ê³„ê°’ ì´ˆê³¼'
          recommendation = `${excess}KBë¥¼ ì¤„ì—¬ì•¼ í•©ë‹ˆë‹¤.`
        } else if (sizeInBytes > threshold * 0.9) {
          status = 'warning'
          statusText = 'âš ï¸ ì£¼ì˜'
          recommendation = `ì„ê³„ê°’ì— ê·¼ì ‘í–ˆìŠµë‹ˆë‹¤ (${percentage}%).`
        }

        return {
          deviceType,
          sizeInBytes,
          sizeInKB,
          threshold,
          percentage,
          status,
          statusText,
          recommendation,
          cssContent,
        }
      }

      // í˜„ì¬ ë””ë°”ì´ìŠ¤ë§Œ ì¸¡ì •
      function measureCurrentDevice() {
        const device = detectDevice()
        const data = measureDevice(device)

        if (!data) {
          showResult({
            error: `${device} Critical CSSë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`,
          })
          return
        }

        showSingleResult(data)
      }

      // ëª¨ë“  ë””ë°”ì´ìŠ¤ ë¹„êµ
      function compareAllDevices() {
        const mobileData = measureDevice('mobile')
        const desktopData = measureDevice('desktop')

        if (!mobileData || !desktopData) {
          showResult({
            error: 'Critical CSSë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.',
          })
          return
        }

        showComparisonResult(mobileData, desktopData)
      }

      // ë‹¨ì¼ ê²°ê³¼ í‘œì‹œ
      function showSingleResult(data) {
        const deviceIcon = data.deviceType === 'mobile' ? 'ğŸ“±' : 'ğŸ’»'
        const deviceName = data.deviceType === 'mobile' ? 'ëª¨ë°”ì¼' : 'ë°ìŠ¤í¬í†±'

        const resultDiv = document.getElementById('result')
        resultDiv.innerHTML = `
          <h3>ğŸ“Š ${deviceIcon} ${deviceName} Critical CSS ì¸¡ì • ê²°ê³¼</h3>

          <div class="metric">
            <span class="metric-label">íŒŒì¼ í¬ê¸° (ë°”ì´íŠ¸)</span>
            <span class="metric-value">${data.sizeInBytes.toLocaleString()} bytes</span>
          </div>

          <div class="metric">
            <span class="metric-label">íŒŒì¼ í¬ê¸° (KB)</span>
            <span class="metric-value">${data.sizeInKB} KB</span>
          </div>

          <div class="metric">
            <span class="metric-label">14KB ëŒ€ë¹„ ë¹„ìœ¨</span>
            <span class="metric-value">${data.percentage}%</span>
          </div>

          <div class="progress-container" style="position: relative; margin-top: 1rem;">
            <div class="threshold-label">14KB</div>
            <div class="threshold-marker"></div>
            <div class="progress-bar" style="width: ${Math.min(data.percentage, 100)}%">
              ${data.sizeInKB} KB
            </div>
          </div>

          <div class="status ${data.status}">
            ${data.statusText}: ${data.recommendation}
          </div>

          <details style="margin-top: 1rem;">
            <summary style="cursor: pointer; font-weight: 600; padding: 0.5rem; background: #f8f9fa; border-radius: 6px;">
              ğŸ” ìƒì„¸ ë¶„ì„
            </summary>
            <div style="margin-top: 1rem; padding: 1rem; background: #f8f9fa; border-radius: 6px;">
              <p><strong>ì„ê³„ê°’:</strong> ${(data.threshold / 1024).toFixed(2)} KB</p>
              <p><strong>ë‚¨ì€ ì—¬ìœ :</strong> ${((data.threshold - data.sizeInBytes) / 1024).toFixed(2)} KB</p>
              <p><strong>CSS ì¤„ ìˆ˜:</strong> ${data.cssContent.split('\n').length} lines</p>
              <p><strong>ì••ì¶• ì˜ˆìƒ:</strong> ì•½ ${(data.sizeInKB / 2).toFixed(2)}KB (Gzip)</p>
            </div>
          </details>
        `

        console.log(`ğŸ“Š ${deviceName} Critical CSS ì¸¡ì • ê²°ê³¼`)
        console.log(`í¬ê¸°: ${data.sizeInKB} KB (${data.sizeInBytes} bytes)`)
        console.log(`14KB ëŒ€ë¹„: ${data.percentage}%`)
        console.log(`ìƒíƒœ: ${data.statusText}`)
      }

      // ë¹„êµ ê²°ê³¼ í‘œì‹œ
      function showComparisonResult(mobileData, desktopData) {
        const resultDiv = document.getElementById('result')

        // í•©ê³„ ê³„ì‚°
        const totalBytes = mobileData.sizeInBytes + desktopData.sizeInBytes
        const totalKB = (totalBytes / 1024).toFixed(2)
        const totalPercentage = ((totalBytes / 14336) * 100).toFixed(1)

        resultDiv.innerHTML = `
          <h3>ğŸ“Š ëª¨ë°”ì¼ vs ë°ìŠ¤í¬í†± ë¹„êµ</h3>

          <table class="comparison-table">
            <thead>
              <tr>
                <th>í•­ëª©</th>
                <th>ğŸ“± ëª¨ë°”ì¼</th>
                <th>ğŸ’» ë°ìŠ¤í¬í†±</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>í¬ê¸° (ë°”ì´íŠ¸)</strong></td>
                <td>${mobileData.sizeInBytes.toLocaleString()}</td>
                <td>${desktopData.sizeInBytes.toLocaleString()}</td>
              </tr>
              <tr>
                <td><strong>í¬ê¸° (KB)</strong></td>
                <td><strong>${mobileData.sizeInKB} KB</strong></td>
                <td><strong>${desktopData.sizeInKB} KB</strong></td>
              </tr>
              <tr>
                <td><strong>14KB ëŒ€ë¹„</strong></td>
                <td>${mobileData.percentage}%</td>
                <td>${desktopData.percentage}%</td>
              </tr>
              <tr>
                <td><strong>ìƒíƒœ</strong></td>
                <td>${mobileData.statusText}</td>
                <td>${desktopData.statusText}</td>
              </tr>
              <tr>
                <td><strong>CSS ì¤„ ìˆ˜</strong></td>
                <td>${mobileData.cssContent.split('\n').length} lines</td>
                <td>${desktopData.cssContent.split('\n').length} lines</td>
              </tr>
            </tbody>
          </table>

          <div style="margin-top: 1.5rem; padding: 1rem; background: #f8f9fa; border-radius: 6px;">
            <h4 style="color: #667eea; margin-bottom: 0.5rem;">ğŸ’¡ ë¶„ì„ ê²°ê³¼</h4>
            <p><strong>í†µí•© ì‚¬ìš© ì‹œ:</strong> ${totalKB} KB (${totalPercentage}%)</p>
            <p><strong>ë°ìŠ¤í¬í†± ì¦ê°€ëŸ‰:</strong> ${(desktopData.sizeInKB - mobileData.sizeInKB).toFixed(2)} KB</p>
            <p><strong>ê¶Œì¥ì‚¬í•­:</strong> ${totalBytes > 14336 ? 'âŒ ë””ë°”ì´ìŠ¤ë³„ë¡œ ë¶„ë¦¬í•˜ì—¬ ì œê³µí•˜ì„¸ìš”' : 'âœ… í†µí•©í•˜ì—¬ ì‚¬ìš©í•´ë„ ì•ˆì „í•©ë‹ˆë‹¤'}</p>
          </div>
        `

        console.log('ğŸ“Š ëª¨ë°”ì¼ vs ë°ìŠ¤í¬í†± ë¹„êµ')
        console.log(`ğŸ“± ëª¨ë°”ì¼: ${mobileData.sizeInKB} KB`)
        console.log(`ğŸ’» ë°ìŠ¤í¬í†±: ${desktopData.sizeInKB} KB`)
        console.log(`í•©ê³„: ${totalKB} KB (${totalPercentage}%)`)
      }

      function showResult(data) {
        if (data.error) {
          document.getElementById('result').innerHTML = `
            <h3>âŒ ì˜¤ë¥˜</h3>
            <p style="color: #dc3545; font-weight: 600;">${data.error}</p>
          `
        }
      }

      function showCSSContent() {
        const device = detectDevice()
        const criticalStyles = document.querySelector(
          `style[data-critical="${device}"]`,
        )

        if (!criticalStyles) {
          alert('Critical CSSë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.')
          return
        }

        const cssContent = criticalStyles.textContent
        const deviceName = device === 'mobile' ? 'ëª¨ë°”ì¼' : 'ë°ìŠ¤í¬í†±'

        document.getElementById('result').innerHTML = `
          <h3>ğŸ‘ï¸ ${deviceName} Critical CSS ë‚´ìš©</h3>
          <pre><code>${escapeHtml(cssContent)}</code></pre>
          <button class="btn-secondary" onclick="measureCurrentDevice()" style="margin-top: 1rem;">
            â¬…ï¸ ì¸¡ì • ê²°ê³¼ë¡œ ëŒì•„ê°€ê¸°
          </button>
        `
      }

      function copyToClipboard() {
        const code = `// Critical CSS í¬ê¸° ì¸¡ì • (ë””ë°”ì´ìŠ¤ë³„)
function measureCriticalCSSByDevice() {
  const device = window.innerWidth <= 768 ? 'mobile' : 'desktop'
  const criticalStyles = document.querySelector(\`style[data-critical="\${device}"]\`)

  if (!criticalStyles) {
    console.log('Critical CSS not found')
    return
  }

  const cssContent = criticalStyles.textContent
  const sizeInBytes = new Blob([cssContent]).size
  const sizeInKB = (sizeInBytes / 1024).toFixed(2)

  console.log(\`ğŸ“Š \${device === 'mobile' ? 'ğŸ“± ëª¨ë°”ì¼' : 'ğŸ’» ë°ìŠ¤í¬í†±'} Critical CSS\`)
  console.log(\`í¬ê¸°: \${sizeInKB} KB (\${sizeInBytes} bytes)\`)

  if (sizeInBytes > 14336) {
    console.warn('âš ï¸ Critical CSS exceeds 14KB threshold')
  } else {
    console.log('âœ… Critical CSS size is optimal')
  }

  return { device, sizeInBytes, sizeInKB }
}

// ì‚¬ìš© ì˜ˆì‹œ
measureCriticalCSSByDevice()`

        navigator.clipboard.writeText(code).then(() => {
          document.getElementById('result').innerHTML = `
            <h3>âœ… í´ë¦½ë³´ë“œì— ë³µì‚¬ë¨</h3>
            <p style="color: #28a745; font-weight: 600; margin-bottom: 1rem;">
              ë””ë°”ì´ìŠ¤ë³„ ì¸¡ì • ì½”ë“œê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.
            </p>
            <pre><code>${escapeHtml(code)}</code></pre>
          `
        })
      }

      function escapeHtml(text) {
        const div = document.createElement('div')
        div.textContent = text
        return div.innerHTML
      }

      // ì´ˆê¸°í™”
      window.addEventListener('DOMContentLoaded', () => {
        updateDeviceInfo()
        console.log('ğŸ’¡ í˜ì´ì§€ê°€ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.')
        console.log('ğŸ“ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ Critical CSS í¬ê¸°ë¥¼ ì¸¡ì •í•˜ì„¸ìš”.')
      })

      // ë¦¬ì‚¬ì´ì¦ˆ ì´ë²¤íŠ¸
      window.addEventListener('resize', () => {
        const newDevice = detectDevice()
        initializeCriticalCSS()
        updateDeviceInfo()
      })
    </script>
  </body>
</html>
