<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Long Task ìº¡ì³ ì˜ˆì œ - 3-3-1</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
          sans-serif;
        padding: 40px;
        background: #f5f5f5;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        padding: 40px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      h1 {
        margin-bottom: 10px;
        color: #333;
      }

      .description {
        color: #666;
        margin-bottom: 30px;
        line-height: 1.6;
      }

      .section {
        margin-bottom: 40px;
        padding: 20px;
        background: #f9f9f9;
        border-radius: 6px;
      }

      .section h2 {
        margin-bottom: 15px;
        color: #444;
        font-size: 18px;
      }

      .section p {
        margin-bottom: 15px;
        color: #666;
        font-size: 14px;
      }

      .buttons {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-bottom: 15px;
      }

      button {
        padding: 12px 24px;
        font-size: 14px;
        font-weight: 600;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.2s;
      }

      .btn-primary {
        background: #3b82f6;
        color: white;
      }

      .btn-primary:hover {
        background: #2563eb;
      }

      .btn-danger {
        background: #ef4444;
        color: white;
      }

      .btn-danger:hover {
        background: #dc2626;
      }

      .btn-success {
        background: #10b981;
        color: white;
      }

      .btn-success:hover {
        background: #059669;
      }

      .result {
        margin-top: 15px;
        padding: 15px;
        background: white;
        border-radius: 4px;
        border-left: 4px solid #3b82f6;
      }

      .result.error {
        border-left-color: #ef4444;
        background: #fef2f2;
      }

      .result.success {
        border-left-color: #10b981;
        background: #f0fdf4;
      }

      .time {
        font-weight: 700;
        color: #3b82f6;
      }

      .time.long-task {
        color: #ef4444;
      }

      .products {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 15px;
        margin-top: 15px;
        max-height: 400px;
        overflow-y: auto;
      }

      .product-card {
        padding: 15px;
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 6px;
        font-size: 13px;
      }

      .product-name {
        font-weight: 600;
        margin-bottom: 8px;
        color: #333;
      }

      .product-price {
        color: #10b981;
        font-weight: 700;
      }

      .product-discount {
        color: #ef4444;
        font-size: 12px;
      }

      .instructions {
        background: #fffbeb;
        border: 1px solid #fbbf24;
        border-radius: 6px;
        padding: 20px;
        margin-bottom: 30px;
      }

      .instructions h3 {
        color: #92400e;
        margin-bottom: 10px;
      }

      .instructions ol {
        margin-left: 20px;
        color: #78350f;
        line-height: 1.8;
      }

      .instructions code {
        background: #fef3c7;
        padding: 2px 6px;
        border-radius: 3px;
        font-family: 'Courier New', monospace;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸ”´ Long Task ìº¡ì³ ì˜ˆì œ</h1>
      <p class="description">
        ì´ í˜ì´ì§€ëŠ” 3-3-1ì ˆ "Performance íƒ­ì—ì„œ Long Task ì°¾ê¸°"ë¥¼ ìœ„í•œ ì‹¤ìŠµ
        ì˜ˆì œì…ë‹ˆë‹¤.<br />
        ê° ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ì˜ë„ì ìœ¼ë¡œ Long Taskë¥¼ ìœ ë°œí•˜ì—¬ Chrome DevTools
        Performance íƒ­ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      </p>

      <div class="instructions">
        <h3>ğŸ“¸ Performance íƒ­ ìº¡ì³ ë°©ë²•</h3>
        <ol>
          <li>Chrome DevToolsë¥¼ ì—½ë‹ˆë‹¤ (F12 ë˜ëŠ” Cmd+Option+I)</li>
          <li><code>Performance</code> íƒ­ì„ ì„ íƒí•©ë‹ˆë‹¤</li>
          <li>ë…¹í™” ë²„íŠ¼(âš«ï¸)ì„ í´ë¦­í•˜ê±°ë‚˜ Cmd+Eë¥¼ ëˆ„ë¦…ë‹ˆë‹¤</li>
          <li>ì•„ë˜ ë²„íŠ¼ ì¤‘ í•˜ë‚˜ë¥¼ í´ë¦­í•©ë‹ˆë‹¤</li>
          <li>2-3ì´ˆ í›„ ë…¹í™”ë¥¼ ì •ì§€í•©ë‹ˆë‹¤</li>
          <li>Main íŠ¸ë™ì—ì„œ ë¹¨ê°„ìƒ‰ ì‚¼ê°í˜• Long Task ê²½ê³ ë¥¼ í™•ì¸í•©ë‹ˆë‹¤</li>
        </ol>
      </div>

      <!-- ì˜ˆì œ 1: ìƒí’ˆ ì •ë ¬ -->
      <div class="section">
        <h2>ğŸ“¦ ì˜ˆì œ 1: ì „ììƒê±°ë˜ ìƒí’ˆ ì •ë ¬ (1000-2000ms Long Task)</h2>
        <p>
          20,000ê°œ ìƒí’ˆì„ ë³µì¡í•œ ë¡œì§ìœ¼ë¡œ ì •ë ¬í•©ë‹ˆë‹¤. í• ì¸ê°€, ë°°ì†¡ë¹„, ì¬ê³ ,
          í‰ì  ê°€ì¤‘ì¹˜ë¥¼ ëª¨ë‘ ê³„ì‚°í•˜ì—¬ Long Taskë¥¼ ìœ ë°œí•©ë‹ˆë‹¤.
        </p>
        <p style="color: #666; font-size: 13px; margin-bottom: 10px;">
          ğŸ’¡ <strong>ë¹„êµ í¬ì¸íŠ¸:</strong> ë¹¨ê°„ ë²„íŠ¼ì€ í•œ ë²ˆì— ì‹¤í–‰ë˜ì–´ Long Taskë¥¼ ìœ ë°œí•˜ê³ ,
          ì´ˆë¡ ë²„íŠ¼ì€ ì‘ì—…ì„ ë¶„í• í•˜ì—¬ ê° ì²­í¬ê°€ 50ms ì´í•˜ë¡œ ìœ ì§€ë©ë‹ˆë‹¤.
          ì´ ì‹¤í–‰ ì‹œê°„ì€ ë¹„ìŠ·í•˜ì§€ë§Œ, <strong>ë©”ì¸ ìŠ¤ë ˆë“œë¥¼ ë¸”ë¡œí‚¹í•˜ì§€ ì•ŠëŠ” ê²ƒì´ í•µì‹¬</strong>ì…ë‹ˆë‹¤.
        </p>
        <div class="buttons">
          <button class="btn-danger" onclick="sortProducts()">
            ğŸ”´ ìƒí’ˆ ì •ë ¬ (Long Task)
          </button>
          <button class="btn-success" onclick="sortProductsOptimized()">
            âœ… ìƒí’ˆ ì •ë ¬ (ìµœì í™”)
          </button>
        </div>
        <div id="sort-result"></div>
        <div id="products-container"></div>
      </div>

      <!-- ì˜ˆì œ 2: DOM ì¡°ì‘ -->
      <div class="section">
        <h2>ğŸ¨ ì˜ˆì œ 2: ëŒ€ëŸ‰ DOM ë Œë”ë§ (300-500ms Long Task)</h2>
        <p>
          10,000ê°œì˜ DOM ìš”ì†Œë¥¼ í•œ ë²ˆì— ìƒì„±í•©ë‹ˆë‹¤. DOM ì¡°ì‘ìœ¼ë¡œ ì¸í•œ Long
          Taskë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        </p>
        <div class="buttons">
          <button class="btn-danger" onclick="renderManyItems()">
            ğŸ”´ 10,000ê°œ ë Œë”ë§ (Long Task)
          </button>
          <button class="btn-primary" onclick="clearItems()">
            ğŸ—‘ï¸ ì´ˆê¸°í™”
          </button>
        </div>
        <div id="render-result"></div>
        <div id="items-container"></div>
      </div>

      <!-- ì˜ˆì œ 3: ë¬´ê±°ìš´ ê³„ì‚° -->
      <div class="section">
        <h2>ğŸ§® ì˜ˆì œ 3: CPU ì§‘ì•½ì  ê³„ì‚° (400-600ms Long Task)</h2>
        <p>
          ë³µì¡í•œ ìˆ˜í•™ ê³„ì‚°ì„ 100ë§Œ ë²ˆ ë°˜ë³µí•©ë‹ˆë‹¤. ìˆœìˆ˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ìœ¼ë¡œ
          ì¸í•œ Long Taskë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        </p>
        <div class="buttons">
          <button class="btn-danger" onclick="heavyCalculation()">
            ğŸ”´ ë¬´ê±°ìš´ ê³„ì‚° (Long Task)
          </button>
        </div>
        <div id="calc-result"></div>
      </div>

      <!-- ì˜ˆì œ 4: ê²€ìƒ‰ í•„í„°ë§ -->
      <div class="section">
        <h2>ğŸ” ì˜ˆì œ 4: ê²€ìƒ‰ í•„í„°ë§ (100-200ms Long Task)</h2>
        <p>
          ê²€ìƒ‰ì°½ì— íƒ€ì´í•‘í•  ë•Œë§ˆë‹¤ 10,000ê°œ ë°ì´í„°ë¥¼ í•„í„°ë§í•©ë‹ˆë‹¤. íƒ€ì´í•‘
          ì§€ì—°ì„ ì²´ê°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        </p>
        <div>
          <input
            type="text"
            id="search-input"
            placeholder="ìƒí’ˆëª…ìœ¼ë¡œ ê²€ìƒ‰... (ì˜ˆ: ë…¸íŠ¸ë¶)"
            style="padding: 10px; width: 300px; font-size: 14px; border: 1px solid #ddd; border-radius: 4px;"
          />
        </div>
        <div id="search-result"></div>
      </div>

      <!-- ì˜ˆì œ 5: React ë¦¬ë Œë”ë§ -->
      <div class="section">
        <h2>âš›ï¸ ì˜ˆì œ 5: React 10,000ê°œ ë¦¬ìŠ¤íŠ¸ ë Œë”ë§ (800-1200ms Long Task)</h2>
        <p>
          Reactë¡œ 10,000ê°œ ì•„ì´í…œì„ ë Œë”ë§í•©ë‹ˆë‹¤. ë²„íŠ¼ í´ë¦­ ì‹œ ìƒíƒœ ì—…ë°ì´íŠ¸ë¡œ
          ì¸í•œ ë¦¬ë Œë”ë§ì—ì„œ Long Taskê°€ ë°œìƒí•©ë‹ˆë‹¤.
        </p>
        <p style="color: #666; font-size: 13px; margin-bottom: 10px;">
          ğŸ’¡ <strong>í™•ì¸ í¬ì¸íŠ¸:</strong> Performance íƒ­ì—ì„œ
          React.render â†’ reconcileChildren â†’ createDOMElement ê°™ì€ React ë‚´ë¶€
          í•¨ìˆ˜ í˜¸ì¶œ ìŠ¤íƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        </p>
        <div id="react-root"></div>
      </div>
    </div>

    <!-- React CDN (Development ë¹Œë“œ - í•¨ìˆ˜ëª…ì´ minifyë˜ì§€ ì•Šì•„ Performance íƒ­ì—ì„œ ëª…í™•íˆ ë³´ì„) -->
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script>
      // ê°€ì§œ ìƒí’ˆ ë°ì´í„° ìƒì„± (20,000ê°œë¡œ ì¦ê°€)
      const products = Array.from({ length: 20000 }, (_, i) => ({
        id: i,
        name: `ìƒí’ˆ ${i + 1}`,
        price: Math.floor(Math.random() * 100000) + 10000,
        discountRate: Math.random() * 0.3,
        freeShipping: Math.random() > 0.5,
        inStock: Math.random() > 0.2,
        rating: Math.random() * 5,
        reviewCount: Math.floor(Math.random() * 1000),
      }))

      // ì˜ˆì œ 1: ìƒí’ˆ ì •ë ¬ (Long Task)
      function sortProducts() {
        const startTime = performance.now()
        const container = document.getElementById('products-container')
        container.innerHTML = ''

        const sorted = [...products].sort((a, b) => {
          // í• ì¸ê°€ ê³„ì‚°
          const priceA = a.price * (1 - a.discountRate)
          const priceB = b.price * (1 - b.discountRate)

          // ë°°ì†¡ë¹„ í¬í•¨
          const totalA = priceA + (a.freeShipping ? 0 : 3000)
          const totalB = priceB + (b.freeShipping ? 0 : 3000)

          // ë¬´ê±°ìš´ ê³„ì‚° ì¶”ê°€ (í‰ì  ê°€ì¤‘ì¹˜)
          const scoreA =
            totalA * 0.7 + Math.sqrt(a.rating) * 1000 + Math.sin(a.reviewCount) * 500
          const scoreB =
            totalB * 0.7 + Math.sqrt(b.rating) * 1000 + Math.sin(b.reviewCount) * 500

          // ì¬ê³  ìˆëŠ” ìƒí’ˆ ìš°ì„ 
          if (a.inStock !== b.inStock) {
            return b.inStock - a.inStock
          }

          return scoreA - scoreB
        })

        // ìƒìœ„ 100ê°œ ë Œë”ë§
        const html = sorted
          .slice(0, 100)
          .map(
            (p) => `
          <div class="product-card">
            <div class="product-name">${p.name}</div>
            <div class="product-price">â‚©${p.price.toLocaleString()}</div>
            <div class="product-discount">${(p.discountRate * 100).toFixed(0)}% í• ì¸</div>
            <div style="font-size: 11px; color: #888; margin-top: 5px;">â­ ${p.rating.toFixed(1)} (${p.reviewCount})</div>
          </div>
        `
          )
          .join('')

        container.innerHTML = `<div class="products">${html}</div>`

        const duration = performance.now() - startTime
        const resultDiv = document.getElementById('sort-result')
        resultDiv.className = duration > 50 ? 'result error' : 'result success'
        resultDiv.innerHTML = `
        <strong>ì‹¤í–‰ ì™„ë£Œ!</strong><br>
        ì†Œìš” ì‹œê°„: <span class="time ${duration > 50 ? 'long-task' : ''}">${duration.toFixed(2)}ms</span><br>
        ${duration > 50 ? 'âš ï¸ Long Task ë°œìƒ! (ë©”ì¸ ìŠ¤ë ˆë“œ ì™„ì „ ë¸”ë¡œí‚¹)' : 'âœ… ì •ìƒ ì‘ì—…'}<br>
        <small style="color: #666;">ì •ë ¬ëœ ${sorted.length.toLocaleString()}ê°œ ì¤‘ ìƒìœ„ 100ê°œ í‘œì‹œ</small>
      `
      }

      // ì˜ˆì œ 1-2: ìƒí’ˆ ì •ë ¬ (ìµœì í™”)
      async function sortProductsOptimized() {
        const startTime = performance.now()
        const container = document.getElementById('products-container')
        container.innerHTML = '<p>ì •ë ¬ ì¤‘...</p>'

        const CHUNK_SIZE = 1000
        const result = []

        for (let i = 0; i < products.length; i += CHUNK_SIZE) {
          const chunk = products.slice(i, i + CHUNK_SIZE)

          const sorted = chunk.sort((a, b) => {
            const priceA = a.price * (1 - a.discountRate)
            const priceB = b.price * (1 - b.discountRate)
            const totalA = priceA + (a.freeShipping ? 0 : 3000)
            const totalB = priceB + (b.freeShipping ? 0 : 3000)

            const scoreA =
              totalA * 0.7 +
              Math.sqrt(a.rating) * 1000 +
              Math.sin(a.reviewCount) * 500
            const scoreB =
              totalB * 0.7 +
              Math.sqrt(b.rating) * 1000 +
              Math.sin(b.reviewCount) * 500

            if (a.inStock !== b.inStock) {
              return b.inStock - a.inStock
            }
            return scoreA - scoreB
          })

          result.push(...sorted)

          // ë©”ì¸ ìŠ¤ë ˆë“œ ì–‘ë³´
          await new Promise((resolve) => setTimeout(resolve, 0))
        }

        // ì „ì²´ ì¬ì •ë ¬ (ë³‘í•© ì •ë ¬ì˜ ë§ˆì§€ë§‰ ë‹¨ê³„)
        const finalSorted = result.sort((a, b) => {
          const priceA = a.price * (1 - a.discountRate)
          const priceB = b.price * (1 - b.discountRate)
          const totalA = priceA + (a.freeShipping ? 0 : 3000)
          const totalB = priceB + (b.freeShipping ? 0 : 3000)

          const scoreA =
            totalA * 0.7 + Math.sqrt(a.rating) * 1000 + Math.sin(a.reviewCount) * 500
          const scoreB =
            totalB * 0.7 + Math.sqrt(b.rating) * 1000 + Math.sin(b.reviewCount) * 500

          if (a.inStock !== b.inStock) {
            return b.inStock - a.inStock
          }
          return scoreA - scoreB
        })

        // ìƒìœ„ 100ê°œ ë Œë”ë§
        const html = finalSorted
          .slice(0, 100)
          .map(
            (p) => `
          <div class="product-card">
            <div class="product-name">${p.name}</div>
            <div class="product-price">â‚©${p.price.toLocaleString()}</div>
            <div class="product-discount">${(p.discountRate * 100).toFixed(0)}% í• ì¸</div>
            <div style="font-size: 11px; color: #888; margin-top: 5px;">â­ ${p.rating.toFixed(1)} (${p.reviewCount})</div>
          </div>
        `
          )
          .join('')

        container.innerHTML = `<div class="products">${html}</div>`

        const duration = performance.now() - startTime
        const resultDiv = document.getElementById('sort-result')
        resultDiv.className = 'result success'
        resultDiv.innerHTML = `
        <strong>ìµœì í™” ì™„ë£Œ!</strong><br>
        ì†Œìš” ì‹œê°„: <span class="time">${duration.toFixed(2)}ms</span><br>
        âœ… ì‘ì—… ë¶„í• ë¡œ Long Task ì œê±° (ê° ì²­í¬ 50ms ì´í•˜)<br>
        <small style="color: #666;">ì •ë ¬ëœ ${finalSorted.length.toLocaleString()}ê°œ ì¤‘ ìƒìœ„ 100ê°œ í‘œì‹œ<br>
        âš ï¸ ì´ ì‹œê°„ì€ ë¹„ìŠ·í•˜ê±°ë‚˜ ì•½ê°„ ë” ê±¸ë¦¬ì§€ë§Œ, ë©”ì¸ ìŠ¤ë ˆë“œë¥¼ ë¸”ë¡œí‚¹í•˜ì§€ ì•ŠìŒ</small>
      `
      }

      // ì˜ˆì œ 2: DOM ë Œë”ë§ (Long Task)
      function renderManyItems() {
        const startTime = performance.now()
        const container = document.getElementById('items-container')

        let html = ''
        for (let i = 0; i < 10000; i++) {
          html += `<div style="padding: 5px; border-bottom: 1px solid #eee;">ì•„ì´í…œ ${i + 1}</div>`
        }
        container.innerHTML = html

        const duration = performance.now() - startTime
        const resultDiv = document.getElementById('render-result')
        resultDiv.className = 'result error'
        resultDiv.innerHTML = `
        <strong>ë Œë”ë§ ì™„ë£Œ!</strong><br>
        ì†Œìš” ì‹œê°„: <span class="time long-task">${duration.toFixed(2)}ms</span><br>
        âš ï¸ Long Task ë°œìƒ! (10,000ê°œ DOM ìš”ì†Œ ìƒì„±)
      `
      }

      function clearItems() {
        document.getElementById('items-container').innerHTML = ''
        document.getElementById('render-result').innerHTML = ''
      }

      // ì˜ˆì œ 3: ë¬´ê±°ìš´ ê³„ì‚° (Long Task)
      function heavyCalculation() {
        const startTime = performance.now()

        let result = 0
        for (let i = 0; i < 1000000; i++) {
          result += Math.sqrt(i) * Math.sin(i) * Math.cos(i)
        }

        const duration = performance.now() - startTime
        const resultDiv = document.getElementById('calc-result')
        resultDiv.className = 'result error'
        resultDiv.innerHTML = `
        <strong>ê³„ì‚° ì™„ë£Œ!</strong><br>
        ê²°ê³¼: ${result.toFixed(2)}<br>
        ì†Œìš” ì‹œê°„: <span class="time long-task">${duration.toFixed(2)}ms</span><br>
        âš ï¸ Long Task ë°œìƒ! (100ë§Œ ë²ˆ ê³„ì‚°)
      `
      }

      // ì˜ˆì œ 4: ê²€ìƒ‰ í•„í„°ë§
      const allItems = Array.from({ length: 10000 }, (_, i) => ({
        id: i,
        name: `ë…¸íŠ¸ë¶ ${i + 1}`,
      }))

      document
        .getElementById('search-input')
        .addEventListener('input', (e) => {
          const startTime = performance.now()
          const query = e.target.value.toLowerCase()

          if (!query) {
            document.getElementById('search-result').innerHTML = ''
            return
          }

          // Long Task: 10,000ê°œ ëª¨ë‘ í•„í„°ë§
          const filtered = allItems.filter((item) =>
            item.name.toLowerCase().includes(query)
          )

          const duration = performance.now() - startTime
          const resultDiv = document.getElementById('search-result')
          resultDiv.className = duration > 50 ? 'result error' : 'result success'
          resultDiv.innerHTML = `
          ê²€ìƒ‰ ê²°ê³¼: ${filtered.length}ê°œ<br>
          ì†Œìš” ì‹œê°„: <span class="time ${duration > 50 ? 'long-task' : ''}">${duration.toFixed(2)}ms</span><br>
          ${duration > 50 ? 'âš ï¸ íƒ€ì´í•‘í•  ë•Œë§ˆë‹¤ Long Task ë°œìƒ!' : 'âœ… ì •ìƒ ì‘ì—…'}
        `
        })
    </script>

    <!-- React ì»´í¬ë„ŒíŠ¸ -->
    <script type="text/babel">
      const { useState } = React

      function BadList() {
        const [items, setItems] = useState([])
        const [loading, setLoading] = useState(false)

        function loadItems() {
          setLoading(true)
          const startTime = performance.now()

          // 10,000ê°œ ì•„ì´í…œ ìƒì„±
          const newItems = []
          for (let i = 0; i < 10000; i++) {
            newItems.push({ id: i, text: `ì•„ì´í…œ ${i + 1}` })
          }

          // Long Task ë°œìƒ (ë¦¬ë Œë”ë§)
          setItems(newItems)

          setTimeout(() => {
            const duration = performance.now() - startTime
            alert(
              `ë Œë”ë§ ì™„ë£Œ!\nì†Œìš” ì‹œê°„: ${duration.toFixed(2)}ms\n\nâš ï¸ Performance íƒ­ì—ì„œ React ë‚´ë¶€ í•¨ìˆ˜ í˜¸ì¶œ ìŠ¤íƒì„ í™•ì¸í•´ë³´ì„¸ìš”.\n(React.render â†’ reconcileChildren â†’ appendChild)`
            )
            setLoading(false)
          }, 100)
        }

        function clearItems() {
          setItems([])
        }

        return (
          <div>
            <div className="buttons">
              <button
                className="btn-danger"
                onClick={loadItems}
                disabled={loading}
              >
                ğŸ”´ 10,000ê°œ ì•„ì´í…œ ë Œë”ë§ (Long Task)
              </button>
              <button className="btn-primary" onClick={clearItems}>
                ğŸ—‘ï¸ ì´ˆê¸°í™”
              </button>
            </div>
            {loading && (
              <div className="result" style={{ marginTop: '15px' }}>
                ë Œë”ë§ ì¤‘...
              </div>
            )}
            {items.length > 0 && (
              <div className="result success" style={{ marginTop: '15px' }}>
                <strong>{items.length.toLocaleString()}ê°œ ë Œë”ë§ ì™„ë£Œ</strong>
                <br />
                <small style={{ color: '#666' }}>
                  ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ì˜ì—­ì— ëª¨ë“  ì•„ì´í…œì´ í‘œì‹œë©ë‹ˆë‹¤.
                </small>
              </div>
            )}
            <div
              style={{
                maxHeight: '400px',
                overflow: 'auto',
                marginTop: '15px',
                border: '1px solid #e5e7eb',
                borderRadius: '6px',
              }}
            >
              {items.map((item) => (
                <div
                  key={item.id}
                  style={{
                    padding: '8px 15px',
                    borderBottom: '1px solid #f3f4f6',
                    fontSize: '14px',
                  }}
                >
                  {item.text}
                </div>
              ))}
            </div>
          </div>
        )
      }

      // React ì•± ë Œë”ë§
      const root = ReactDOM.createRoot(document.getElementById('react-root'))
      root.render(<BadList />)
    </script>
  </body>
</html>
