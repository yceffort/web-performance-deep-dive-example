<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Preload 'as' ì†ì„± í…ŒìŠ¤íŠ¸</title>

  <!-- í…ŒìŠ¤íŠ¸ 1: as ì†ì„± ì—†ëŠ” preload (ì´ì¤‘ ë‹¤ìš´ë¡œë“œ ë˜ëŠ” ê²½ê³  ì˜ˆìƒ) -->
  <link rel="preload" href="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js">
  <!-- as ì†ì„±ì´ ì—†ìœ¼ë©´ ë¸Œë¼ìš°ì €ê°€ ì½˜í…ì¸  íƒ€ì…ì„ ì¶”ì¸¡í•˜ê±°ë‚˜ ê²½ê³ ë¥¼ í‘œì‹œí•¨ -->

  <!-- í…ŒìŠ¤íŠ¸ 2: as ì†ì„± ìˆëŠ” preload (ì •ìƒ ë™ì‘) -->
  <link rel="preload" href="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" as="script">

  <!-- í…ŒìŠ¤íŠ¸ 3: as="style" - Highest ìš°ì„ ìˆœìœ„ í™•ì¸ -->
  <link rel="preload" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" as="style">

  <!-- í…ŒìŠ¤íŠ¸ 4: as="font" WITH crossorigin (ì •ìƒ ë™ì‘) -->
  <link rel="preload" href="https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4mxK.woff2" as="font" type="font/woff2" crossorigin>

  <!-- í…ŒìŠ¤íŠ¸ 5: as="font" WITHOUT crossorigin (ì´ì¤‘ ë‹¤ìš´ë¡œë“œ ì˜ˆìƒ) -->
  <link rel="preload" href="https://fonts.gstatic.com/s/opensans/v40/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B4gaVI.woff2" as="font" type="font/woff2">

  <!-- í…ŒìŠ¤íŠ¸ 6: as="image" - Medium ìš°ì„ ìˆœìœ„ í™•ì¸ -->
  <link rel="preload" href="https://placehold.co/600x400" as="image">

  <style>
    /* í…ŒìŠ¤íŠ¸ìš© í°íŠ¸ ì„ ì–¸ */
    @font-face {
      font-family: 'Roboto';
      src: url('https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4mxK.woff2') format('woff2');
      font-display: swap;
    }

    @font-face {
      font-family: 'Open Sans';
      src: url('https://fonts.gstatic.com/s/opensans/v40/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B4gaVI.woff2') format('woff2');
      font-display: swap;
    }

    body {
      font-family: system-ui, -apple-system, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      line-height: 1.6;
    }

    .font-roboto {
      font-family: 'Roboto', sans-serif;
    }

    .font-opensans {
      font-family: 'Open Sans', sans-serif;
    }
    .test-section {
      margin: 20px 0;
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 8px;
      background: #f9f9f9;
    }
    .test-section h3 {
      margin-top: 0;
      color: #333;
    }
    code {
      background: #e8e8e8;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
    }
    .warning {
      background: #fff3cd;
      border-color: #ffc107;
      color: #856404;
    }
    .success {
      background: #d4edda;
      border-color: #28a745;
      color: #155724;
    }
    .instructions {
      background: #e7f3ff;
      padding: 15px;
      border-left: 4px solid #004085;
      margin-bottom: 20px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 15px 0;
    }
    th, td {
      padding: 10px;
      text-align: left;
      border: 1px solid #ddd;
    }
    th {
      background: #f0f0f0;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>ğŸ” Preload 'as' ì†ì„± í…ŒìŠ¤íŠ¸</h1>

  <div class="instructions">
    <h2>í…ŒìŠ¤íŠ¸ ë°©ë²•</h2>
    <ol>
      <li><strong>Chrome DevToolsë¥¼ ì—½ë‹ˆë‹¤</strong> (F12 ë˜ëŠ” Cmd+Option+I)</li>
      <li><strong>Network íƒ­</strong>ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤</li>
      <li>Network íƒ­ì—ì„œ <strong>Disable cache</strong>ë¥¼ ì²´í¬í•©ë‹ˆë‹¤</li>
      <li>ì»¬ëŸ¼ í—¤ë”ë¥¼ ìš°í´ë¦­í•˜ì—¬ <strong>Priority</strong> ì»¬ëŸ¼ì„ í™œì„±í™”í•©ë‹ˆë‹¤</li>
      <li>í˜ì´ì§€ë¥¼ <strong>ìƒˆë¡œê³ ì¹¨</strong> (Cmd+R ë˜ëŠ” Ctrl+R)í•©ë‹ˆë‹¤</li>
      <li>ê° ë¦¬ì†ŒìŠ¤ì˜ Priority ê°’ì„ í™•ì¸í•©ë‹ˆë‹¤</li>
      <li><strong>ì¤‘ìš”:</strong> Console íƒ­ì—ì„œ ê²½ê³  ë©”ì‹œì§€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤!</li>
      <li><strong>í°íŠ¸ í…ŒìŠ¤íŠ¸:</strong> Network íƒ­ì—ì„œ ë‹¤ìŒ í°íŠ¸ë“¤ì´ ëª‡ ë²ˆì”© ë‚˜íƒ€ë‚˜ëŠ”ì§€ í™•ì¸:
        <ul>
          <li><strong>KFOmCnqEu92Fr1Mu4mxK.woff2</strong> (Roboto, crossorigin ìˆìŒ) - 1ë²ˆ ì˜ˆìƒ</li>
          <li><strong>memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B4gaVI.woff2</strong> (Open Sans, crossorigin ì—†ìŒ) - 2ë²ˆ ì˜ˆìƒ</li>
        </ul>
      </li>
    </ol>
  </div>

  <h2>í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤</h2>

  <div class="test-section warning">
    <h3>âŒ í…ŒìŠ¤íŠ¸ 1: as ì†ì„± ì—†ëŠ” preload (ê²½ê³  ë°œìƒ)</h3>
    <p><code>&lt;link rel="preload" href="lodash.min.js"&gt;</code></p>
    <p><strong>ì˜ˆìƒ ê²°ê³¼:</strong></p>
    <ul>
      <li><strong>ì½˜ì†”ì— ê²½ê³  ë©”ì‹œì§€ í‘œì‹œ:</strong> "&lt;link rel=preload&gt; must have a valid `as` value"</li>
      <li>ë¸Œë¼ìš°ì €ê°€ ë¦¬ì†ŒìŠ¤ë¥¼ ì œëŒ€ë¡œ ë§¤ì¹­í•˜ì§€ ëª»í•  ìˆ˜ ìˆìŒ</li>
      <li>ì˜ëª»ëœ ìš°ì„ ìˆœìœ„ë¡œ ë¡œë“œë˜ê±°ë‚˜ ì´ì¤‘ ë‹¤ìš´ë¡œë“œê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ</li>
      <li>ìµœì‹  Chromeì€ Content-Typeì„ ë³´ê³  ì¶”ì¸¡í•  ìˆ˜ë„ ìˆì§€ë§Œ, <code>as</code> ì†ì„±ì€ ì—¬ì „íˆ í•„ìˆ˜</li>
    </ul>
  </div>

  <div class="test-section success">
    <h3>âœ… í…ŒìŠ¤íŠ¸ 2: as="script" ìˆëŠ” preload (ì •ìƒ ë™ì‘)</h3>
    <p><code>&lt;link rel="preload" href="jquery.min.js" as="script"&gt;</code></p>
    <p><strong>ì˜ˆìƒ ê²°ê³¼:</strong></p>
    <ul>
      <li>jquery.min.jsê°€ <strong>1ë²ˆë§Œ</strong> ë‹¤ìš´ë¡œë“œë©ë‹ˆë‹¤</li>
      <li>Priority: <strong>High</strong></li>
    </ul>
  </div>

  <div class="test-section">
    <h3>í…ŒìŠ¤íŠ¸ 3: as="style" (Highest ìš°ì„ ìˆœìœ„)</h3>
    <p><code>&lt;link rel="preload" href="bootstrap.min.css" as="style"&gt;</code></p>
    <p><strong>ì˜ˆìƒ Priority:</strong> <strong>Highest</strong></p>
  </div>

  <div class="test-section success">
    <h3>âœ… í…ŒìŠ¤íŠ¸ 4: as="font" WITH crossorigin (ì •ìƒ ë™ì‘)</h3>
    <p><code>&lt;link rel="preload" href="roboto.woff2" as="font" crossorigin&gt;</code></p>
    <p><strong>ì˜ˆìƒ ê²°ê³¼:</strong></p>
    <ul>
      <li>Roboto í°íŠ¸ê°€ <strong>1ë²ˆë§Œ</strong> ë‹¤ìš´ë¡œë“œë©ë‹ˆë‹¤</li>
      <li>Priority: <strong>High</strong></li>
      <li>CORS ìš”ì²­ìœ¼ë¡œ ì˜¬ë°”ë¥´ê²Œ ë¡œë“œë¨</li>
    </ul>
    <p class="font-roboto" style="font-size: 18px; margin-top: 10px;">
      ğŸ“ ì´ í…ìŠ¤íŠ¸ëŠ” Roboto í°íŠ¸ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤ (crossorigin ìˆìŒ)
    </p>
  </div>

  <div class="test-section warning">
    <h3>âŒ í…ŒìŠ¤íŠ¸ 5: as="font" WITHOUT crossorigin (ì´ì¤‘ ë‹¤ìš´ë¡œë“œ ì˜ˆìƒ)</h3>
    <p><code>&lt;link rel="preload" href="opensans.woff2" as="font"&gt;</code> (crossorigin ì—†ìŒ)</p>
    <p><strong>ì˜ˆìƒ ê²°ê³¼:</strong></p>
    <ul>
      <li>Open Sans í°íŠ¸ê°€ Network íƒ­ì— <strong>2ë²ˆ</strong> ë‚˜íƒ€ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
      <li>ì²« ë²ˆì§¸: preload (non-CORS ìš”ì²­)</li>
      <li>ë‘ ë²ˆì§¸: @font-faceì—ì„œ ì‹¤ì œ ì‚¬ìš© (CORS ìš”ì²­)</li>
      <li><strong>âš ï¸ ì¤‘ìš”:</strong> Network íƒ­ì—ì„œ Open Sans í°íŠ¸ê°€ ëª‡ ë²ˆ ë‚˜íƒ€ë‚˜ëŠ”ì§€ í™•ì¸!</li>
    </ul>
    <p class="font-opensans" style="font-size: 18px; margin-top: 10px;">
      ğŸ“ ì´ í…ìŠ¤íŠ¸ëŠ” Open Sans í°íŠ¸ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤ (crossorigin ì—†ìŒ - ì´ì¤‘ ë‹¤ìš´ë¡œë“œ?)
    </p>
  </div>

  <div class="test-section">
    <h3>í…ŒìŠ¤íŠ¸ 6: as="image"</h3>
    <p><code>&lt;link rel="preload" href="image.jpg" as="image"&gt;</code></p>
    <p><strong>ì˜ˆìƒ Priority:</strong> <strong>Low</strong> (ì‹¤ì œ í…ŒìŠ¤íŠ¸ì—ì„œ í™•ì¸ë¨)</p>
  </div>

  <h2>ì˜ˆìƒ ê²°ê³¼ ìš”ì•½</h2>
  <table>
    <thead>
      <tr>
        <th>as ì†ì„± ê°’</th>
        <th>ì˜ˆìƒ Priority</th>
        <th>ë¹„ê³ </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>as="style"</code></td>
        <td><strong>Highest</strong></td>
        <td>ë Œë” ë¸”ë¡œí‚¹ ë¦¬ì†ŒìŠ¤</td>
      </tr>
      <tr>
        <td><code>as="script"</code></td>
        <td><strong>High</strong></td>
        <td>íŒŒì‹± ë¸”ë¡œí‚¹ ê°€ëŠ¥</td>
      </tr>
      <tr>
        <td><code>as="font"</code></td>
        <td><strong>High</strong></td>
        <td>FOIT/FOUT ë°©ì§€</td>
      </tr>
      <tr>
        <td><code>as="image"</code></td>
        <td><strong>Medium</strong></td>
        <td>ë·°í¬íŠ¸ ë‚´ ì´ë¯¸ì§€ ìˆ˜ì¤€</td>
      </tr>
      <tr style="background: #fff3cd;">
        <td><strong>as ì†ì„± ì—†ìŒ</strong></td>
        <td><strong>ì•Œ ìˆ˜ ì—†ìŒ</strong></td>
        <td><strong>âš ï¸ ì½˜ì†” ê²½ê³  ë°œìƒ, ì˜ëª»ëœ ìš°ì„ ìˆœìœ„</strong></td>
      </tr>
    </tbody>
  </table>

  <div class="test-section warning">
    <h3>âš ï¸ ì£¼ì˜ì‚¬í•­</h3>
    <ul>
      <li><strong>as ì†ì„±ì€ í•„ìˆ˜ì…ë‹ˆë‹¤!</strong> ë¹ ëœ¨ë¦¬ë©´ ì½˜ì†” ê²½ê³ ê°€ ë°œìƒí•˜ê³ , ì˜ëª»ëœ ìš°ì„ ìˆœìœ„ë¡œ ë¡œë“œë˜ê±°ë‚˜ ì´ì¤‘ ë‹¤ìš´ë¡œë“œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
      <li>í°íŠ¸ì˜ ê²½ìš° <code>crossorigin</code> ì†ì„±ë„ í•„ìˆ˜ì…ë‹ˆë‹¤ (CORS ìš”ì²­).</li>
      <li>ì˜ëª»ëœ <code>as</code> ê°’ì„ ì‚¬ìš©í•´ë„ ë¦¬ì†ŒìŠ¤ ë§¤ì¹­ ì‹¤íŒ¨ë¡œ ì´ì¤‘ ë‹¤ìš´ë¡œë“œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
    </ul>
  </div>

  <!-- ì‹¤ì œ ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ (ì´ì¤‘ ë‹¤ìš´ë¡œë“œ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´) -->
  <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>

  <!-- ì‹¤ì œ ìŠ¤íƒ€ì¼ ë¡œë“œ -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

  <!-- ì‹¤ì œ ì´ë¯¸ì§€ ë¡œë“œ -->
  <img src="https://placehold.co/600x400" alt="í…ŒìŠ¤íŠ¸ ì´ë¯¸ì§€" style="max-width: 100%; margin: 20px 0;">

  <script>
    // ë¡œë“œ ì™„ë£Œ í™•ì¸
    window.addEventListener('load', () => {
      console.log('âœ… ëª¨ë“  ë¦¬ì†ŒìŠ¤ ë¡œë“œ ì™„ë£Œ');
      console.log('ğŸ“Š Chrome DevTools Network íƒ­ì—ì„œ Priority ì»¬ëŸ¼ì„ í™•ì¸í•˜ì„¸ìš”!');
      console.log('âš ï¸  Console íƒ­ì—ì„œ as ì†ì„± ê´€ë ¨ ê²½ê³ ë¥¼ í™•ì¸í•˜ì„¸ìš”!');

      // lodashì™€ jQueryê°€ ë¡œë“œë˜ì—ˆëŠ”ì§€ í™•ì¸
      if (typeof _ !== 'undefined') {
        console.log('âœ… Lodash ë¡œë“œë¨ (ë²„ì „:', _.VERSION, ')');
      }
      if (typeof jQuery !== 'undefined') {
        console.log('âœ… jQuery ë¡œë“œë¨ (ë²„ì „:', jQuery.fn.jquery, ')');
      }
    });
  </script>
</body>
</html>
